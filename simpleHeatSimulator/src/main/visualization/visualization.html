<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="vis" width="400" height="400" style="border:1px solid #000000;">
    Your browser does not support the HTML5 canvas tag.
</canvas>

<script src="data.js"></script>
<script type="text/javascript">
    var spacing = 20;
    var scale = 40;

    function coordToPx(coord) {
        return coord * scale;
    }

    function posToPx(pos) {
        return pos * scale + spacing;
    }

    var canvas = document.getElementById("vis");
    var canvasWidth = canvas.width;
    var canvasHeight = canvas.height;
    var ctx = canvas.getContext("2d");



//    var world = [
//        {x: 20, y: 20, width: 160, height: 160},
//        {x: 180, y: 20, width: 160, height: 160},
//        {x: 20, y: 180, width: 280, height: 160},
//        {x: 300, y: 180, width: 40, height: 160}
//    ];
//
//    var steps = [
//        [40.0, 5.0, 25.0, 35.0, ],
//        [39.8, 5.2, 25.0, 34.9, ],
//        [39.7, 5.4, 25.1, 34.8, ],
//        [39.5, 5.7, 25.1, 34.7, ],
//        [39.4, 5.9, 25.2, 34.6, ],
//        [39.2, 6.1, 25.2, 34.5, ],
//        [39.0, 6.3, 25.2, 34.4, ],
//        [38.9, 6.5, 25.3, 34.3, ],
//        [38.7, 6.8, 25.3, 34.2, ],
//        [38.6, 7.0, 25.4, 34.1, ],
//        [38.4, 7.2, 25.4, 34.0, ],
//        [38.2, 7.4, 25.4, 33.9, ],
//        [38.1, 7.6, 25.5, 33.8, ],
//        [37.9, 7.9, 25.5, 33.7, ],
//        [37.8, 8.1, 25.6, 33.6, ],
//        [37.6, 8.3, 25.6, 33.5, ],
//        [37.4, 8.5, 25.6, 33.4, ],
//        [37.3, 8.7, 25.7, 33.3, ],
//        [37.1, 9.0, 25.7, 33.2, ],
//        [37.0, 9.2, 25.8, 33.1, ],
//        [36.8, 9.4, 25.8, 33.0, ],
//        [36.6, 9.6, 25.8, 32.9, ],
//        [36.5, 9.8, 25.9, 32.8, ],
//        [36.3, 10.1, 25.9, 32.7, ],
//        [36.2, 10.3, 26.0, 32.6, ],
//        [36.0, 10.5, 26.0, 32.5, ],
//        [35.8, 10.7, 26.0, 32.4, ],
//        [35.7, 10.9, 26.1, 32.3, ],
//        [35.5, 11.2, 26.1, 32.2, ],
//        [35.4, 11.4, 26.2, 32.1, ],
//        [35.2, 11.6, 26.2, 32.0, ],
//        [35.0, 11.8, 26.2, 31.9, ],
//        [34.9, 12.0, 26.3, 31.8, ],
//        [34.7, 12.3, 26.3, 31.7, ],
//        [34.6, 12.5, 26.4, 31.6, ],
//        [34.4, 12.7, 26.4, 31.5, ],
//        [34.2, 12.9, 26.4, 31.4, ],
//        [34.1, 13.1, 26.5, 31.3, ],
//        [33.9, 13.4, 26.5, 31.2, ],
//        [33.8, 13.6, 26.6, 31.1, ],
//        [33.6, 13.8, 26.6, 31.0, ],
//        [33.4, 14.0, 26.6, 30.9, ],
//        [33.3, 14.2, 26.7, 30.8, ],
//        [33.1, 14.5, 26.7, 30.7, ],
//        [33.0, 14.7, 26.8, 30.6, ],
//        [32.8, 14.9, 26.8, 30.5, ],
//        [32.6, 15.1, 26.8, 30.4, ],
//        [32.5, 15.3, 26.9, 30.3, ],
//        [32.3, 15.6, 26.9, 30.2, ],
//        [32.2, 15.8, 27.0, 30.1, ],
//        [32.0, 16.0, 27.0, 30.0, ],
//        [31.8, 16.2, 27.0, 29.9, ],
//        [31.7, 16.4, 27.1, 29.8, ],
//        [31.5, 16.7, 27.1, 29.7, ],
//        [31.4, 16.9, 27.2, 29.6, ],
//        [31.2, 17.1, 27.2, 29.5, ],
//        [31.0, 17.3, 27.2, 29.4, ],
//        [30.9, 17.5, 27.3, 29.3, ],
//        [30.7, 17.8, 27.3, 29.2, ],
//        [30.6, 18.0, 27.4, 29.1, ],
//        [30.4, 18.2, 27.4, 29.0, ],
//        [30.2, 18.4, 27.4, 28.9, ],
//        [30.1, 18.6, 27.5, 28.8, ],
//        [29.9, 18.9, 27.5, 28.7, ],
//        [29.8, 19.1, 27.6, 28.6, ],
//        [29.6, 19.3, 27.6, 28.5, ],
//        [29.4, 19.5, 27.6, 28.4, ],
//        [29.3, 19.7, 27.7, 28.3, ],
//        [29.1, 20.0, 27.7, 28.2, ],
//        [29.0, 20.2, 27.8, 28.1, ],
//        [28.8, 20.4, 27.8, 28.0, ],
//        [28.6, 20.6, 27.8, 27.9, ],
//        [28.5, 20.8, 27.8, 27.8, ],
//        [28.3, 21.1, 27.8, 27.8, ],
//        [28.2, 21.3, 27.8, 27.7, ],
//        [28.0, 21.5, 27.8, 27.7, ],
//        [27.8, 21.7, 27.8, 27.6, ],
//        [27.8, 21.9, 27.8, 27.5, ],
//        [27.7, 22.2, 27.7, 27.5, ],
//        [27.6, 22.4, 27.6, 27.4, ],
//        [27.5, 22.6, 27.5, 27.4, ],
//        [27.4, 22.8, 27.4, 27.3, ],
//        [27.4, 23.0, 27.4, 27.2, ],
//        [27.3, 23.3, 27.3, 27.2, ],
//        [27.2, 23.5, 27.2, 27.1, ],
//        [27.1, 23.7, 27.1, 27.1, ],
//        [27.0, 23.9, 27.0, 27.0, ],
//        [27.0, 24.1, 27.0, 26.9, ],
//        [26.9, 24.4, 26.9, 26.9, ],
//        [26.8, 24.6, 26.8, 26.8, ],
//        [26.7, 24.8, 26.7, 26.7, ],
//        [26.6, 25.0, 26.7, 26.7, ],
//        [26.6, 25.2, 26.6, 26.6, ],
//        [26.5, 25.5, 26.6, 26.5, ],
//        [26.5, 25.7, 26.4, 26.4, ],
//        [26.3, 25.9, 26.4, 26.4, ],
//        [26.3, 26.1, 26.3, 26.3, ],
//        [26.2, 26.3, 26.3, 26.2, ],
//        [26.2, 26.3, 26.2, 26.2, ],
//        [26.2, 26.2, 26.3, 26.3, ],
//        [26.3, 26.3, 26.2, 26.2, ],
//    ];

    var i = 0;

    ctx.lineWidth="1";
    ctx.strokeStyle="black";

    ctx.font = "14px Arial";

    setInterval(function() {
        console.log(i);
        if (i>=steps.length) i = 0;
        ctx.fillStyle = "white";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        for(var j = 0; j < world.length; j++) {
            var fs = "rgb(" + (30 + parseInt((6 * steps[i][j]))) + ",0,0)";
            ctx.fillStyle = fs;
            ctx.fillRect(posToPx(world[j].x), posToPx(world[j].y), coordToPx(world[j].width), coordToPx(world[j].height));

            ctx.rect(posToPx(world[j].x), posToPx(world[j].y), coordToPx(world[j].width), coordToPx(world[j].height));
            ctx.stroke();

            ctx.fillStyle = "white";
            ctx.fillText(steps[i][j], posToPx(world[j].x) + 2 , posToPx(world[j].y) + 16);
        }

        i++;
    }, 200);

</script>

</body>
</html>